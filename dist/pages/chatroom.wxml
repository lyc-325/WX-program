
  <view class="header" style="width:100%;position:fixed;z-index:101;font-size:35rpx; line-height:60rpx;">
    <view class="navbar">
      <view bindtap="changeNav"  wx:for="{{navs}}" wx:key="index" data-index="{{index}}" class="item {{currentNav == index ? 'active' : ''}}">
        {{item}}
      </view>
    </view>
  </view>
  <view  wx:if="{{currentNav === 0}}" class="bodyBlock">
    <scroll-view scroll-y scroll-into-view="item{{intoView}}" class="{{ view }}" id="list">
      <view wx:for="{{msgs}}" wx:key="idClient" id="item{{item.idClient}}" class="list-item {{ user.accid === item.from ? 'mine':'opposite' }}">
        <view class="avatar">
          <image mode="scaleToFill" src="{{item.fromAvatar}}"/>
        </view>
        <view class="content">
          <image wx:if="{{item.emji[0].type === 'emoji'}}" class="avatar" src="{{'../static/faces/' + item.emji[0].data }}" style="width: 25px;height: 25px;margin: 0 0 2px 0;float: left;" mode="scaleToFill"/>
          <view wx:elif="{{item.emji[0].type === 'text'}}">
            <text>{{item.text}}</text>
          </view>
          <image wx:elif="{{item.type === 'image' }}" src="{{item.file.url}}" mode="scaleToFill"/>

        </view>
      </view>
    </scroll-view>
    <view class="{{ showem }}">
      <textarea wx:if="{{sended}}" value="" auto-height fixed="fixed" cursor-spacing="40" bindfocus="handleFocus" bindinput="setText"/>
      <textarea wx:else auto-height auto-focus fixed="fixed" cursor-spacing="40" bindfocus="handleFocus" bindinput="setText"/>
      <view class="button" bindtap="openEmoji" mode="scaleToFill">
        <image src="../static/icons/emoj.png"/>
      </view>
      <view class="button" bindtap="chooseImage">
        <image src="../static/icons/image.png" mode="scaleToFill"/>
      </view>
      <view class="button" bindtap="send" style="width:15%; ">
        <image src="../static/icons/send.png" mode="scaleToFill"/>
      </view>
    </view>
    <swiper class="{{ show }}" indicator-dots="{{indicatorDots}}" autoplay="{{autoplay}}" interval="{{interval}}" duration="{{duration}}">
      <block>
        <swiper-item>
          <view class="emoji_item">
            <image wx:for="{{ emojiObj.map1 }}" src="{{ emojiObj.path + item }}" wx:key="" bindtap="sendEmoji" data-emoji="{{ index }}"/>
          </view>
          <view class="emoji_item">
            <image wx:for="{{ emojiObj.map2 }}" src="{{ emojiObj.path + item }}" wx:key="" bindtap="sendEmoji" data-emoji="{{ index }}"/>
          </view>
          <view class="emoji_item">
            <image wx:for="{{ emojiObj.map3 }}" src="{{ emojiObj.path + item }}" wx:key="" bindtap="sendEmoji" data-emoji="{{ index }}"/>
          </view>
        </swiper-item>
      </block>
      <block class="second">
        <swiper-item>
          <view class="emoji_item">
            <image wx:for="{{ emojiObj.map4 }}" src="{{ emojiObj.path + item }}" wx:key="" bindtap="sendEmoji" data-emoji="{{ index }}"/>
          </view>
          <view class="emoji_item">
            <image wx:for="{{ emojiObj.map5 }}" src="{{ emojiObj.path + item }}" wx:key="" bindtap="sendEmoji" data-emoji="{{ index }}"/>
          </view>
          <view class="emoji_item">
            <image wx:for="{{ emojiObj.map6 }}" src="{{ emojiObj.path + item }}" wx:key="" bindtap="sendEmoji" data-emoji="{{ index }}"/>
          </view>
        </swiper-item>
      </block>
    </swiper>
  </view>

  <view  wx:if="{{currentNav === 1}}" class="detailBlock">
    <view class="detailList">
      <view class="userinfo" bindtap="handleViewTap">
        <image class="userinfo-avatar" src="{{roomData.pic_url}}" background-size="cover"/>
        <view class="userinfo-nickname">{{roomData.name}}</view>
      </view>
      <view class="item">
        <view class="label">公告:</view>
        <view class="value" style="margin-left: 20rpx;">{{roomData.announcement}}</view>
      </view>
    </view>
  </view>