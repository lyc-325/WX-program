
<view class="list">
  <block  wx:for="{{msgs}}" wx:key="idServer">
    <view class="item {{ user.accid === item.from ? 'mine':'opposite' }}">
      <view class="avatar">
        <image mode="scaleToFill" src="{{user.avatarUrl}}"/>
      </view>
      <view class="content">
        <view wx:if="{{item.type === 'text' }}">
          <text>{{item.text}}</text>
        </view>
        <view wx:elif="{{item.type === 'image' }}">
          <image/>
        </view>
      </view>
    </view>
  </block>
</view>

<view class="operation">
  <textarea auto-height fixed="fixed" cursor-spacing="40" bindinput="setText" value="{{text}}"/>
  <view class="button">
    <image bindtap="chooseImage" src="../../static/icons/image.png" mode="scaleToFill"/>
  </view>
  <view class="button">
    <image bindtap="send" src="../../static/icons/send.png" mode="scaleToFill"/>
  </view>
</view>