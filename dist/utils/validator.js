'use strict';

var _keys = require('./../npm/babel-runtime/core-js/object/keys.js');

var _keys2 = _interopRequireDefault(_keys);

var _ramda = require('./../libs/ramda.js');

var _ramda2 = _interopRequireDefault(_ramda);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var EMAIL_REGEX = /^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;
var PHONE_REGEX = /^1\d{10}$/;

var validator = function validator(rules) {
  return function (formData) {
    var keys = (0, _keys2.default)(formData);
    var errorKey = _ramda2.default.find(function (key) {
      var value = formData[key];
      var validate = rules[key].validate;

      return !validate(value);
    })(keys);
    return errorKey;
  };
};

var validateLength = function validateLength(min, max) {
  return _ramda2.default.compose(_ramda2.default.both(_ramda2.default.gte(_ramda2.default.__, min), _ramda2.default.lte(_ramda2.default.__, max)), _ramda2.default.prop('length'), function (value) {
    return value.replace(/\s/g, '');
  });
};

var validateEmail = _ramda2.default.test(EMAIL_REGEX);

var validatePhone = _ramda2.default.test(PHONE_REGEX);

module.exports = {
  validator: validator,
  validateLength: validateLength,
  validateEmail: validateEmail,
  validatePhone: validatePhone
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZhbGlkYXRvci5qcyJdLCJuYW1lcyI6WyJFTUFJTF9SRUdFWCIsIlBIT05FX1JFR0VYIiwidmFsaWRhdG9yIiwicnVsZXMiLCJmb3JtRGF0YSIsImtleXMiLCJlcnJvcktleSIsImZpbmQiLCJ2YWx1ZSIsImtleSIsInZhbGlkYXRlIiwidmFsaWRhdGVMZW5ndGgiLCJtaW4iLCJtYXgiLCJjb21wb3NlIiwiYm90aCIsImd0ZSIsIl9fIiwibHRlIiwicHJvcCIsInJlcGxhY2UiLCJ2YWxpZGF0ZUVtYWlsIiwidGVzdCIsInZhbGlkYXRlUGhvbmUiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7Ozs7O0FBRUEsSUFBTUEsY0FBYyxpQ0FBcEI7QUFDQSxJQUFNQyxjQUFjLFdBQXBCOztBQUVBLElBQU1DLFlBQVksU0FBWkEsU0FBWSxDQUFVQyxLQUFWLEVBQWlCO0FBQ2pDLFNBQU8sVUFBVUMsUUFBVixFQUFvQjtBQUN6QixRQUFNQyxPQUFPLG9CQUFZRCxRQUFaLENBQWI7QUFDQSxRQUFNRSxXQUFXLGdCQUFFQyxJQUFGLENBQU8sZUFBTztBQUM3QixVQUFNQyxRQUFRSixTQUFTSyxHQUFULENBQWQ7QUFENkIsVUFFckJDLFFBRnFCLEdBRVJQLE1BQU1NLEdBQU4sQ0FGUSxDQUVyQkMsUUFGcUI7O0FBRzdCLGFBQU8sQ0FBQ0EsU0FBU0YsS0FBVCxDQUFSO0FBQ0QsS0FKZ0IsRUFJZEgsSUFKYyxDQUFqQjtBQUtBLFdBQU9DLFFBQVA7QUFDRCxHQVJEO0FBU0QsQ0FWRDs7QUFZQSxJQUFNSyxpQkFBaUIsU0FBakJBLGNBQWlCLENBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN4QyxTQUFPLGdCQUFFQyxPQUFGLENBQ0wsZ0JBQUVDLElBQUYsQ0FBTyxnQkFBRUMsR0FBRixDQUFNLGdCQUFFQyxFQUFSLEVBQVlMLEdBQVosQ0FBUCxFQUF5QixnQkFBRU0sR0FBRixDQUFNLGdCQUFFRCxFQUFSLEVBQVlKLEdBQVosQ0FBekIsQ0FESyxFQUVMLGdCQUFFTSxJQUFGLENBQU8sUUFBUCxDQUZLLEVBR0w7QUFBQSxXQUFTWCxNQUFNWSxPQUFOLENBQWMsS0FBZCxFQUFxQixFQUFyQixDQUFUO0FBQUEsR0FISyxDQUFQO0FBS0QsQ0FORDs7QUFRQSxJQUFNQyxnQkFBZ0IsZ0JBQUVDLElBQUYsQ0FBT3RCLFdBQVAsQ0FBdEI7O0FBRUEsSUFBTXVCLGdCQUFnQixnQkFBRUQsSUFBRixDQUFPckIsV0FBUCxDQUF0Qjs7QUFFQXVCLE9BQU9DLE9BQVAsR0FBaUI7QUFDZnZCLHNCQURlO0FBRWZTLGdDQUZlO0FBR2ZVLDhCQUhlO0FBSWZFO0FBSmUsQ0FBakIiLCJmaWxlIjoidmFsaWRhdG9yLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFIgZnJvbSAnLi4vbGlicy9yYW1kYSdcclxuXHJcbmNvbnN0IEVNQUlMX1JFR0VYID0gL14oXFx3LSpcXC4qKStAKFxcdy0/KSsoXFwuXFx3ezIsfSkrJC9cclxuY29uc3QgUEhPTkVfUkVHRVggPSAvXjFcXGR7MTB9JC9cclxuXHJcbmNvbnN0IHZhbGlkYXRvciA9IGZ1bmN0aW9uIChydWxlcykge1xyXG4gIHJldHVybiBmdW5jdGlvbiAoZm9ybURhdGEpIHtcclxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhmb3JtRGF0YSlcclxuICAgIGNvbnN0IGVycm9yS2V5ID0gUi5maW5kKGtleSA9PiB7XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gZm9ybURhdGFba2V5XVxyXG4gICAgICBjb25zdCB7IHZhbGlkYXRlIH0gPSBydWxlc1trZXldXHJcbiAgICAgIHJldHVybiAhdmFsaWRhdGUodmFsdWUpXHJcbiAgICB9KShrZXlzKVxyXG4gICAgcmV0dXJuIGVycm9yS2V5XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCB2YWxpZGF0ZUxlbmd0aCA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XHJcbiAgcmV0dXJuIFIuY29tcG9zZShcclxuICAgIFIuYm90aChSLmd0ZShSLl9fLCBtaW4pLCBSLmx0ZShSLl9fLCBtYXgpKSxcclxuICAgIFIucHJvcCgnbGVuZ3RoJyksXHJcbiAgICB2YWx1ZSA9PiB2YWx1ZS5yZXBsYWNlKC9cXHMvZywgJycpXHJcbiAgKVxyXG59XHJcblxyXG5jb25zdCB2YWxpZGF0ZUVtYWlsID0gUi50ZXN0KEVNQUlMX1JFR0VYKVxyXG5cclxuY29uc3QgdmFsaWRhdGVQaG9uZSA9IFIudGVzdChQSE9ORV9SRUdFWClcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIHZhbGlkYXRvcixcclxuICB2YWxpZGF0ZUxlbmd0aCxcclxuICB2YWxpZGF0ZUVtYWlsLFxyXG4gIHZhbGlkYXRlUGhvbmVcclxufVxyXG4iXX0=